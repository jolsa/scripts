/*
 arrays.js 1.0.0 Copyright (c) 2014, Johnny Olsa
 Created: 9/27/2014
 Provided .NET LINQ-like methods for Javascript Arrays
 Feel free to download and share!
 Comments and critique to johnny@johnnyolsa.com
*/
if("undefined"===typeof typeofType)var typeofType={Undefined:"undefined",Boolean:"boolean",Number:"number",String:"string",Symbol:"symbol",Function:"function",Object:"object",Date:"date"};Date.prototype.isDate=!0;
(function(k){function l(a,b,c){if(0===a.length)return null;typeof b===typeofType.Function&&(a=a.filter(b));a=a.sortByType(!1,!c);return a.firstOrDefault(function(a){return null!==a&&a!==k&&(typeof a!==typeofType.Object||a.isDate)})}function m(a,b,c){var d=typeof c===typeofType.Function?c:null;a.forEach(function(a){typeof a!==typeofType.Number||d&&!d(a)||b(a)})}Array.prototype.isArray=!0;Array.prototype.sortByType=function(a,b){if(0===this.length)return[];var c=Array(16).join(b?" ":"~"),d=b?-1:1;return this.slice().sort(function(b,
g){var e=null===b?c:b.isDate?typeofType.Date:typeof b,h=null===g?c:g.isDate?typeofType.Date:typeof g;if(e!==h)return(e<h?-1:1)*d;e=b;h=g;a&&(typeof e===typeofType.String&&(e=e.toLocaleLowerCase()),typeof h===typeofType.String&&(h=h.toLocaleLowerCase()));return e===h?0:(e<h?-1:1)*d})};Array.prototype.firstOrDefault=function(a){var b;if(!a)return this.length?this[0]:null;if(typeof a===typeofType.Function){for(b=0;b<this.length;b++){var c=this[b];if(!0===a(c))return c}return null}for(b=0;b<this.length;b++)if(this[b]===
a)return a;return null};Array.prototype.lastOrDefault=function(a){return this.slice().reverse().firstOrDefault(a)};Array.prototype.max=function(a){return l(this.slice(),a,!1)};Array.prototype.min=function(a){return l(this.slice(),a,!0)};Array.prototype.distinct=function(a){var b=[];if(0===this.length)return b;for(var c=this.slice().sortByType(a),d,f,g=k,e=0;e<c.length;e++)f=d=c[e],a&&typeof d===typeofType.String?f=f.toLocaleLowerCase():d&&d.isDate&&(f=f.getTime()),f!==g&&(g=f,b.push(d));return b};
Array.prototype.union=function(a,b){return a&&a.isArray&&a.length?this.distinct(b).concat(a.distinct(b)).distinct(b):this.distinct(b)};Array.prototype.zip=function(a,b){if(!a||!b||!a.isArray||typeof b!==typeofType.Function)return null;for(var c=Math.min(this.length,a.length),d=[],f=0;f<c;f++)d.push(b(this[f],a[f]));return d};Array.prototype.sum=function(a){var b=0;m(this,function(a){b+=a},a);return b};Array.prototype.average=function(a){var b=0,c=0;m(this,function(a){b+=a;c++},a);return c?b/c:null};
Array.prototype.takeWhile=function(a){if(typeof a!==typeofType.Function)return null;for(var b=[],c=0;c<this.length;c++){var d=this[c];if(!a(d,c))break;b.push(d)}return b};Array.prototype.toDictionary=function(a,b){if(typeof a!==typeofType.Function)return null;for(var c=typeof b===typeofType.Function?b:null,d=[],f=0;f<this.length;f++){var g=this[f],e=a(g);null!==e&&e!==k&&(g=c?c(g):e,d[e]=g)}return d};Array.prototype.contains=function(a){return this.some(function(b){return b===a})}})();
//@ sourceMappingURL=arrays.min.map
