/*
 stepTimer.js 1.0.0 Copyright (c) 2014, Johnny Olsa
 Created: 9/27/2014
 A Javascript "class" for recording durations
 Feel free to download and share!
 Comments and critique to johnny@johnnyolsa.com
*/
define("stepTimer",["arrays"],function(){return function(){function g(b){function e(b,e){var a=d.match(b);if(a&&a.length){var c=e.toString(),a=a[0].length-c.length;0<a?c=Array(a+1).join("0")+c:0>a&&(c=c.substr(0,c.length-a));d=d.replace(b,c)}}b=new Date(b);var d=h;if(0<=d.indexOf("f")){var a=/f{4,}/g,c=d.match(a);c&&c.length&&(d=d.replace(a,"fff"));var f=b.getMilliseconds().toString();3>f.length&&(f=Array(4-f.length).join("0")+f);d.match(/f+/g).distinct().sort(function(a,b){return b.length-a.length}).forEach(function(a){d=
d.replace(RegExp(a,"g"),f.substr(0,a.length))})}e(/m+/g,b.getMinutes());e(/s+/g,b.getSeconds());return d}var c=(new Date).getTime(),k=c,h="mm:ss.fff",a=[];this.addStep=function(b){var e=(new Date).getTime()-c;c=(new Date).getTime();a.push({message:b,time:e})};this.toString=function(b){return a.map(function(a){return a.message+":\t"+g(a.time)}).concat(["Total time:\t"+g(this.getTotalTime(b))]).join("\r\n")};this.get_format=function(){return h};this.set_format=function(a){h=a};this.reset=function(){a=
[];c=k=(new Date).getTime()};this.get_steps=function(){return a.slice()};this.getTotalTime=function(b){return b?a.map(function(a){return a.time}).sum():(new Date).getTime()-k};this.formatTime=g}});
//@ sourceMappingURL=stepTimer.min.map
